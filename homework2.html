<!doctype html>
<html lang="en">
<head>

  <!-- Webpage Title -->
  <title>Proposal 2</title>

  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

  <!-- JS -->		
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

  <style>
    .centretext {text-align: center;

    }

    .pricetext {text-align: right;
    }

    .large-font {
        font-size: 30px;
    }

    .middle-font {
        font-size: 20px;
    }

    .small-font {
        font-size: 15px;
    }

    .price {
        color:red;
        font-size: 30px;
        font-weight: bold;
        font-style: oblique;
        text-align: right;
    }

    .wrap {
      width: 700px;
      margin: 0px auto 0 auto;
  }

</style>

<script type="text/javascript">
    
    function isCellPhone(p){

        var regExp = /^(01[016789]{1}|02|0[3-9]{1}[0-9]{1})[-][0-9]{3,4}[-][0-9]{4}$/;
        return regExp.test(p);
    }


    function formcheck() {

        let name = $("#name").val();
        let quantity = $("#quantity").val();
        let address = $("#address").val();
        let phonenumber = $("#phonenumber").val();

        if (name == '') {

            alert ("주문자 이름을 입력하세요.");
            $('#name').focus();
            return;
        }


        else if (quantity == '') {

            alert("수량을 입력하세요.")
            $('#quantity').focus()

            return;
        }

        else if (address == '') {

            alert ("주소를 입력하세요.")
            $('#address').focus()

            return

        }
        else if (phonenumber == '') {

             alert ("핸드폰 번호를 입력하세요.")
             $('#phonenumber').focus()

            return;

        }

        else if (!isCellPhone(phonenumber)){
            alert ("휴대폰번호 입력 방식이 틀립니다. \n 010-0000-0000으로 입력하세요")

            return;

        }

        $.ajax({
          type: "POST",
          url: "/formcheck",
          data: {name_give:name, quantity_give:quantity, address_give: address, phonenumber_give: phonenumber},
          success: function (response){
            if(response['result'] == 'success'){
                alert ("주문완료!");
                window.location.reload();

            }
        }
        
        })




    }

</script>

</head>
<body>

    <div class = "wrap">
        <div class = "centretext">
            <img class="d-block mx-auto mb-4" src="https://assetsprx.matchesfashion.com/img/product/1391/1341273_1.jpg" alt="" width="400" height="600">
            <h1 class = "large-font"> MASTER & DYNAMIC <span class="middle-font">- MW07 Plus True wireless earphones</span> </h1>
            <h2 class = "small-font"> Master & Dynamic is a New York-based audio company. Founded in 2013, Master & Dynamic designs and manufactures headphones, earphones, and audio accessories. Master & Dynamic is geared towards the creative community. Its boom microphone was developed in conjunction with the open space work collective, NeueHouse. </h2>

        </div>

        <div class = "price"> 
            <p> Price:$500</span>  </p>
        </div>


        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text" id="basic-addon1">주문자 이름</span>
            </div>
            <input id = "name"  type="text" class="form-control" placeholder="" aria-label="" aria-describedby="basic-addon1">
        </div>

        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <label class="input-group-text" for="inputGroupSelect01">수량</label>
            </div>
            <select class="custom-select" id="quantity">
                <option value="" selected>--수량을 선택하세요--</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
            </select>
        </div>

        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text" id="basic-addon1">주소</span>
            </div>
            <input id="address" type="text" class="form-control" placeholder="" aria-label="" aria-describedby="basic-addon1">
        </div>

        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text" id="basic-addon1">전화번호</span>
            </div>
            <input id = "phonenumber" type="text" class="form-control" placeholder="" aria-label="" aria-describedby="basic-addon1">
        </div>

        <div class = "centretext">
            <div class="formcheck">
                <button class="btn btn-primary btn-lg" onclick= "formcheck();" >주문하기</button>

            </div>
        </div>

    </div>
</body>
</html>